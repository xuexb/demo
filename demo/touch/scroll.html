
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>测试滚动事件</title>
    <meta content="width=device-width,minimum-scale=1.0,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,minimal-ui" name="viewport" />

    <style type="text/css">
        *{padding: 0; margin: 0; }
        #test{
            position: fixed; 
            right: 0; top: 0; 
            font-size: 12px; 
            background-color: #ccc; 
            word-break: break-word;
        }
        .test{
            background-color: #ccc; 
            height: 50px; line-height: 50px; 
            text-align: center; 
        }
        .test.fixed{
            position: fixed; 
            top: 0; 
            width: 100%; 
        }
    </style>
</head>
<body>
    
    <div>
        <p>0000000000000001</p>
        <p>0000000000000002</p>
        <p>0000000000000003</p>
        <p>0000000000000004</p>
        <p>0000000000000005</p>
        <p>0000000000000006</p>
        <p>0000000000000007</p>
        <p>0000000000000008</p>
        <p>0000000000000009</p>
        <p>0000000000000010</p>
        <p>0000000000000011</p>
        <p>0000000000000012</p>
        <p>0000000000000013</p>
        <p>0000000000000014</p>
        <p>0000000000000015</p>
        <p>0000000000000016</p>
        <p>0000000000000017</p>
        <p>0000000000000018</p>
        <p>0000000000000019</p>
        <p>0000000000000020</p>
        <p>0000000000000021</p>
        <p>0000000000000022</p>
        <p>0000000000000023</p>
        <p>0000000000000024</p>
        <p>0000000000000025</p>
        <p>0000000000000026</p>
        <p>0000000000000027</p>
        <p>0000000000000028</p>
        <p>0000000000000029</p>
        <p>0000000000000030</p>
        <p>0000000000000031</p>
        <p>0000000000000032</p>

        <div class="test">
            <div class="box">测试</div>
        </div>
        <p>0000000000000033</p>
        <p>0000000000000034</p>
        <p>0000000000000035</p>
        <p>0000000000000036</p>
        <p>0000000000000037</p>
        <p>0000000000000038</p>
        <p>0000000000000039</p>
        <p>0000000000000040</p>
        <p>0000000000000041</p>
        <p>0000000000000042</p>
        <p>0000000000000043</p>
        <p>0000000000000044</p>
        <p>0000000000000045</p>
        <p>0000000000000046</p>
        <p>0000000000000047</p>
        <p>0000000000000048</p>
        <p>0000000000000049</p>
        <p>0000000000000050</p>
        <p>0000000000000051</p>
        <p>0000000000000052</p>
        <p>0000000000000053</p>
        <p>0000000000000054</p>
        <p>0000000000000055</p>
        <p>0000000000000056</p>
        <p>0000000000000057</p>
        <p>0000000000000058</p>
        <p>0000000000000059</p>
        <p>0000000000000060</p>
        <p>0000000000000061</p>
        <p>0000000000000062</p>
        <p>0000000000000063</p>
        <p>0000000000000064</p>
        <p>0000000000000065</p>
        <p>0000000000000066</p>
        <p>0000000000000067</p>
        <p>0000000000000068</p>
        <p>0000000000000069</p>
        <p>0000000000000070</p>
        <p>0000000000000071</p>
        <p>0000000000000072</p>
        <p>0000000000000073</p>
        <p>0000000000000074</p>
        <p>0000000000000075</p>
        <p>0000000000000076</p>
        <p>0000000000000077</p>
        <p>0000000000000078</p>
        <p>0000000000000079</p>
        <p>0000000000000080</p>
        <p>0000000000000081</p>
        <p>0000000000000082</p>
        <p>0000000000000083</p>
        <p>0000000000000084</p>
        <p>0000000000000085</p>
        <p>0000000000000086</p>
        <p>0000000000000087</p>
        <p>0000000000000088</p>
        <p>0000000000000089</p>
        <p>0000000000000090</p>
        <p>0000000000000091</p>
        <p>0000000000000092</p>
        <p>0000000000000093</p>
        <p>0000000000000094</p>
        <p>0000000000000095</p>
        <p>0000000000000096</p>
        <p>0000000000000097</p>
        <p>0000000000000098</p>
        <p>0000000000000099</p>
        <p>0000000000000100</p>
        <p>0000000000000101</p>
        <p>0000000000000102</p>
        <p>0000000000000103</p>
        <p>0000000000000104</p>
        <p>0000000000000105</p>
        <p>0000000000000106</p>
        <p>0000000000000107</p>
        <p>0000000000000108</p>
        <p>0000000000000109</p>
        <p>0000000000000110</p>
        <p>0000000000000111</p>
        <p>0000000000000112</p>
        <p>0000000000000113</p>
        <p>0000000000000114</p>
        <p>0000000000000115</p>
        <p>0000000000000116</p>
        <p>0000000000000117</p>
        <p>0000000000000118</p>
        <p>0000000000000119</p>
        <p>0000000000000120</p>
        <p>0000000000000121</p>
        <p>0000000000000122</p>
        <p>0000000000000123</p>
        <p>0000000000000124</p>
        <p>0000000000000125</p>
        <p>0000000000000126</p>
        <p>0000000000000127</p>
        <p>0000000000000128</p>
        <p>0000000000000129</p>
        <p>0000000000000130</p>
        <p>0000000000000131</p>
        <p>0000000000000132</p>
        <p>0000000000000133</p>
        <p>0000000000000134</p>
        <p>0000000000000135</p>
        <p>0000000000000136</p>
        <p>0000000000000137</p>
        <p>0000000000000138</p>
        <p>0000000000000139</p>
        <p>0000000000000140</p>
        <p>0000000000000141</p>
        <p>0000000000000142</p>
        <p>0000000000000143</p>
        <p>0000000000000144</p>
        <p>0000000000000145</p>
        <p>0000000000000146</p>
        <p>0000000000000147</p>
        <p>0000000000000148</p>
        <p>0000000000000149</p>
        <p>0000000000000150</p>
        <p>0000000000000151</p>
        <p>0000000000000152</p>
        <p>0000000000000153</p>
        <p>0000000000000154</p>
        <p>0000000000000155</p>
        <p>0000000000000156</p>
        <p>0000000000000157</p>
        <p>0000000000000158</p>
        <p>0000000000000159</p>
        <p>0000000000000160</p>
        <p>0000000000000161</p>
        <p>0000000000000162</p>
        <p>0000000000000163</p>
        <p>0000000000000164</p>
        <p>0000000000000165</p>
        <p>0000000000000166</p>
        <p>0000000000000167</p>
        <p>0000000000000168</p>
        <p>0000000000000169</p>
        <p>0000000000000170</p>
        <p>0000000000000171</p>
        <p>0000000000000172</p>
        <p>0000000000000173</p>
        <p>0000000000000174</p>
        <p>0000000000000175</p>
        <p>0000000000000176</p>
        <p>0000000000000177</p>
        <p>0000000000000178</p>
        <p>0000000000000179</p>
        <p>0000000000000180</p>
        <p>0000000000000181</p>
        <p>0000000000000182</p>
        <p>0000000000000183</p>
        <p>0000000000000184</p>
        <p>0000000000000185</p>
        <p>0000000000000186</p>
        <p>0000000000000187</p>
        <p>0000000000000188</p>
        <p>0000000000000189</p>
        <p>0000000000000190</p>
        <p>0000000000000191</p>
        <p>0000000000000192</p>
        <p>0000000000000193</p>
        <p>0000000000000194</p>
        <p>0000000000000195</p>
        <p>0000000000000196</p>
        <p>0000000000000197</p>
        <p>0000000000000198</p>
        <p>0000000000000199</p>
        <p>0000000000000200</p>
        <p>0000000000000201</p>
        <p>0000000000000202</p>
        <p>0000000000000203</p>
        <p>0000000000000204</p>
        <p>0000000000000205</p>
        <p>0000000000000206</p>
        <p>0000000000000207</p>
        <p>0000000000000208</p>
        <p>0000000000000209</p>
        <p>0000000000000210</p>
        <p>0000000000000211</p>
        <p>0000000000000212</p>
        <p>0000000000000213</p>
        <p>0000000000000214</p>
        <p>0000000000000215</p>
        <p>0000000000000216</p>
        <p>0000000000000217</p>
        <p>0000000000000218</p>
        <p>0000000000000219</p>
        <p>0000000000000220</p>
        <p>0000000000000221</p>
        <p>0000000000000222</p>
        <p>0000000000000223</p>
        <p>0000000000000224</p>
        <p>0000000000000225</p>
        <p>0000000000000226</p>
        <p>0000000000000227</p>
        <p>0000000000000228</p>
        <p>0000000000000229</p>
        <p>0000000000000230</p>
        <p>0000000000000231</p>
        <p>0000000000000232</p>
        <p>0000000000000233</p>
        <p>0000000000000234</p>
        <p>0000000000000235</p>
        <p>0000000000000236</p>
        <p>0000000000000237</p>
        <p>0000000000000238</p>
        <p>0000000000000239</p>
        <p>0000000000000240</p>
        <p>0000000000000241</p>
        <p>0000000000000242</p>
        <p>0000000000000243</p>
        <p>0000000000000244</p>
        <p>0000000000000245</p>
        <p>0000000000000246</p>
        <p>0000000000000247</p>
        <p>0000000000000248</p>
        <p>0000000000000249</p>
        <p>0000000000000250</p>
        <p>0000000000000251</p>
        <p>0000000000000252</p>
        <p>0000000000000253</p>
        <p>0000000000000254</p>
        <p>0000000000000255</p>
        <p>0000000000000256</p>
        <p>0000000000000257</p>
        <p>0000000000000258</p>
        <p>0000000000000259</p>
        <p>0000000000000260</p>
        <p>0000000000000261</p>
        <p>0000000000000262</p>
        <p>0000000000000263</p>
        <p>0000000000000264</p>
        <p>0000000000000265</p>
        <p>0000000000000266</p>
        <p>0000000000000267</p>
        <p>0000000000000268</p>
        <p>0000000000000269</p>
        <p>0000000000000270</p>
        <p>0000000000000271</p>
        <p>0000000000000272</p>
        <p>0000000000000273</p>
        <p>0000000000000274</p>
        <p>0000000000000275</p>
        <p>0000000000000276</p>
        <p>0000000000000277</p>
        <p>0000000000000278</p>
        <p>0000000000000279</p>
        <p>0000000000000280</p>
        <p>0000000000000281</p>
        <p>0000000000000282</p>
        <p>0000000000000283</p>
        <p>0000000000000284</p>
        <p>0000000000000285</p>
        <p>0000000000000286</p>
        <p>0000000000000287</p>
        <p>0000000000000288</p>
        <p>0000000000000289</p>
        <p>0000000000000290</p>
        <p>0000000000000291</p>
        <p>0000000000000292</p>
        <p>0000000000000293</p>
        <p>0000000000000294</p>
        <p>0000000000000295</p>
        <p>0000000000000296</p>
        <p>0000000000000297</p>
        <p>0000000000000298</p>
        <p>0000000000000299</p>
        <p>0000000000000300</p>
        <p>0000000000000301</p>
        <p>0000000000000302</p>
        <p>0000000000000303</p>
        <p>0000000000000304</p>
        <p>0000000000000305</p>
        <p>0000000000000306</p>
        <p>0000000000000307</p>
        <p>0000000000000308</p>
        <p>0000000000000309</p>
        <p>0000000000000310</p>
        <p>0000000000000311</p>
        <p>0000000000000312</p>
        <p>0000000000000313</p>
        <p>0000000000000314</p>
        <p>0000000000000315</p>
        <p>0000000000000316</p>
        <p>0000000000000317</p>
        <p>0000000000000318</p>
        <p>0000000000000319</p>
        <p>0000000000000320</p>
        <p>0000000000000321</p>
        <p>0000000000000322</p>
        <p>0000000000000323</p>
        <p>0000000000000324</p>
        <p>0000000000000325</p>
        <p>0000000000000326</p>
        <p>0000000000000327</p>
        <p>0000000000000328</p>
        <p>0000000000000329</p>
        <p>0000000000000330</p>
        <p>0000000000000331</p>
        <p>0000000000000332</p>
        <p>0000000000000333</p>
        <p>0000000000000334</p>
        <p>0000000000000335</p>
        <p>0000000000000336</p>
        <p>0000000000000337</p>
        <p>0000000000000338</p>
        <p>0000000000000339</p>
        <p>0000000000000340</p>
        <p>0000000000000341</p>
        <p>0000000000000342</p>
        <p>0000000000000343</p>
        <p>0000000000000344</p>
        <p>0000000000000345</p>
        <p>0000000000000346</p>
        <p>0000000000000347</p>
        <p>0000000000000348</p>
        <p>0000000000000349</p>
        <p>0000000000000350</p>
        <p>0000000000000351</p>
        <p>0000000000000352</p>
        <p>0000000000000353</p>
        <p>0000000000000354</p>
        <p>0000000000000355</p>
        <p>0000000000000356</p>
        <p>0000000000000357</p>
        <p>0000000000000358</p>
        <p>0000000000000359</p>
        <p>0000000000000360</p>
        <p>0000000000000361</p>
        <p>0000000000000362</p>
        <p>0000000000000363</p>
        <p>0000000000000364</p>
        <p>0000000000000365</p>
        <p>0000000000000366</p>
        <p>0000000000000367</p>
        <p>0000000000000368</p>
        <p>0000000000000369</p>
        <p>0000000000000370</p>
        <p>0000000000000371</p>
        <p>0000000000000372</p>
        <p>0000000000000373</p>
        <p>0000000000000374</p>
        <p>0000000000000375</p>
        <p>0000000000000376</p>
        <p>0000000000000377</p>
        <p>0000000000000378</p>
        <p>0000000000000379</p>
        <p>0000000000000380</p>
        <p>0000000000000381</p>
        <p>0000000000000382</p>
        <p>0000000000000383</p>
        <p>0000000000000384</p>
        <p>0000000000000385</p>
        <p>0000000000000386</p>
        <p>0000000000000387</p>
        <p>0000000000000388</p>
        <p>0000000000000389</p>
        <p>0000000000000390</p>
        <p>0000000000000391</p>
        <p>0000000000000392</p>
        <p>0000000000000393</p>
        <p>0000000000000394</p>
        <p>0000000000000395</p>
        <p>0000000000000396</p>
        <p>0000000000000397</p>
        <p>0000000000000398</p>
        <p>0000000000000399</p>
        <p>0000000000000400</p>
    </div>

    <div id="test"></div>

    <script type="text/javascript" src="http://h5-static.hunpai.cc/src/lib/zepto.js"></script>
    <script type="text/javascript">
        var $elem = $('.test');
        var offset_top = $elem.offset().top;
        var $window = $(window);
        $window.on('scroll resize', function(){
            if($window.scrollTop() >= offset_top){
                $elem.addClass('fixed');
            } else {
                $elem.removeClass('fixed');
            }
        }).trigger('scroll');

        // $(window).on('scroll', function () {
        //     $('#test').get(0).innerHTML += ','+ $(this).scrollTop();
        // });
        // $('#test').on('click', function(){
        //     this.innerHTML = '';
        // });

        // function callback(str){
        //     $('#test').get(0).innerHTML += ','+ str;
        // }

        // function Scroll(){
        //     this.bind();
        // }

        // Scroll.prototype.bind = function(){
        //     var self = this;
        //     self.timer = setInterval(function(){
        //         callback($(window).scrollTop());
        //     }, 100);
        // }

        // // Scroll.prototype.bind = function(){
        // //     var self = this;
        // //     $(window).one('touchmove', function(){
        // //         self.timer = setInterval(function(){
        // //             callback($(window).scrollTop());
        // //         }, 100);
        // //         $(window).one('scroll', function(){
        // //             clearTimeout(self.timer);
        // //             delete self.timer;
        // //             self.bind();
        // //         });
        // //     });
        // // }

        // new Scroll();
    </script>
   
</body>
</html>